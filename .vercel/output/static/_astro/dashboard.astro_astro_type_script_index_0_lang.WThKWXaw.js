import{a as r}from"./auth.HKnvu_IB.js";import"./supabase.EtSlLzdh.js";document.addEventListener("DOMContentLoaded",async()=>{const a=document.getElementById("loading"),i=document.getElementById("dashboard-content"),e=document.getElementById("user-email"),s=document.getElementById("signout-button"),o=document.getElementById("last-login");try{const{user:t}=await r.getUser();if(!t){window.location.href="/auth/sign-in";return}if(e&&(e.textContent=t.email||"Unknown"),o){const n=new Date().toLocaleString();o.textContent=n}a?.classList.add("hidden"),i?.classList.remove("hidden"),s?.addEventListener("click",async n=>{n.preventDefault();try{await r.signOut()}catch(d){console.error("Sign out error:",d),window.location.href="/"}})}catch(t){console.error("Dashboard error:",t),window.location.href="/auth/sign-in"}});
