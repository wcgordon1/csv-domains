import{s as e}from"./supabase.EtSlLzdh.js";const a={async signInWithEmail(r){try{const{data:t,error:o}=await e.auth.signInWithOtp({email:r,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)throw o;return{data:t,error:null}}catch(t){return console.error("Sign in error:",t),{data:null,error:t}}},async signUpWithEmail(r){try{const{data:t,error:o}=await e.auth.signInWithOtp({email:r,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)throw o;return{data:t,error:null}}catch(t){return console.error("Sign up error:",t),{data:null,error:t}}},async signOut(){try{const{error:r}=await e.auth.signOut();if(r)throw r;return window.location.href="/",{error:null}}catch(r){return console.error("Sign out error:",r),{error:r}}},async getUser(){try{const{data:{user:r},error:t}=await e.auth.getUser();if(t)throw t;return{user:r,error:null}}catch(r){return console.error("Get user error:",r),{user:null,error:r}}},async getSession(){try{const{data:{session:r},error:t}=await e.auth.getSession();if(t)throw t;return{session:r,error:null}}catch(r){return console.error("Get session error:",r),{session:null,error:r}}},onAuthStateChange(r){return e.auth.onAuthStateChange((t,o)=>{r(o?.user??null)})}};export{a};
